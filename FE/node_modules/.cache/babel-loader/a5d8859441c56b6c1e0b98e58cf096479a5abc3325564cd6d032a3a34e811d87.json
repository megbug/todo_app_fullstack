{"ast":null,"code":"import _regeneratorRuntime from\"/Users/megan/Desktop/VZ-FS-23-01/todo_full/FE/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/megan/Desktop/VZ-FS-23-01/todo_full/FE/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/megan/Desktop/VZ-FS-23-01/todo_full/FE/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";// import { useForm } from \"react-hook-form\"\nimport ToDoItem from\"./ToDoItem\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ToDoList=function ToDoList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];useEffect(function(){var getTodos=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://localhost:3001/todos',{});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;setTodos(data);case 7:case\"end\":return _context.stop();}},_callee);}));return function getTodos(){return _ref.apply(this,arguments);};}();getTodos();},[]);console.log(todos);var addTodo=function addTodo(){var inputText=document.querySelector('form input[type=\"text\"]');try{var postTodo=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('http://localhost:3001/todos',{method:\"POST\",body:JSON.stringify({title:\"\".concat(inputText.value),completed:false}),headers:{\"content-type\":\"application/json\"}});case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;setTodos(data);case 7:case\"end\":return _context2.stop();}},_callee2);}));return function postTodo(){return _ref2.apply(this,arguments);};}();postTodo();document.querySelector('form input[type=\"text\"]').value=\"\";}catch(error){console.error(error);}};var removeCheck=function removeCheck(id){var deleteTodo=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"http://localhost:3001/todos/\".concat(id),{method:\"DELETE\"});case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:data=_context3.sent;setTodos(data);case 7:case\"end\":return _context3.stop();}},_callee3);}));return function deleteTodo(){return _ref3.apply(this,arguments);};}();deleteTodo();};var completedTodo=function completedTodo(id,value){try{var updatedTodo=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var response,data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"http://localhost:3001/todos/\".concat(id),{method:\"PUT\",body:JSON.stringify({completed:value}),headers:{\"content-type\":\"application/json\"}});case 2:response=_context4.sent;_context4.next=5;return response.json();case 5:data=_context4.sent;setTodos(data);case 7:case\"end\":return _context4.stop();}},_callee4);}));return function updatedTodo(){return _ref4.apply(this,arguments);};}();updatedTodo();document.querySelector('form input[type=\"text\"]').value=\"\";}catch(error){console.error(error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"\",id:\"\",placeholder:\"Add ToDo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"Add ToDo\",onClick:addTodo})]}),/*#__PURE__*/_jsx(\"article\",{children:todos.map(function(elt){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ToDoItem,{task:elt,completedTodo:completedTodo}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return removeCheck(elt.id);},children:\"delete\"})]});})})]});};export default ToDoList;","map":{"version":3,"names":["useState","useEffect","ToDoItem","jsx","_jsx","jsxs","_jsxs","ToDoList","_useState","_useState2","_slicedToArray","todos","setTodos","getTodos","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","sent","json","stop","apply","arguments","console","log","addTodo","inputText","document","querySelector","postTodo","_ref2","_callee2","_callee2$","_context2","method","body","JSON","stringify","title","concat","value","completed","headers","error","removeCheck","id","deleteTodo","_ref3","_callee3","_callee3$","_context3","completedTodo","updatedTodo","_ref4","_callee4","_callee4$","_context4","children","type","name","placeholder","onClick","map","elt","task"],"sources":["/Users/megan/Desktop/VZ-FS-23-01/todo_full/FE/src/components/ToDoList.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\n// import { useForm } from \"react-hook-form\"\nimport ToDoItem from \"./ToDoItem\";\n\nconst ToDoList = () => {\n    const [todos, setTodos] = useState([]);\n\n    useEffect(() => {\n        const getTodos = async () => {\n            const response = await fetch('http://localhost:3001/todos', {});\n            const data = await response.json();\n            setTodos(data);\n        }\n        getTodos();\n    }, []);\n\n    console.log(todos);\n\n    const addTodo = () => {\n        const inputText = document.querySelector('form input[type=\"text\"]');\n        try {\n            const postTodo = async () => {\n                const response = await fetch('http://localhost:3001/todos', {\n                    method: \"POST\",\n                    body: JSON.stringify({ title: `${inputText.value}`, completed: false }),\n                    headers: {\n                        \"content-type\": \"application/json\",\n                    }\n                });\n                const data = await response.json();\n                setTodos(data);\n            }\n            postTodo();\n            document.querySelector('form input[type=\"text\"]').value = \"\";\n        }\n        catch (error) {\n            console.error(error)\n        }\n    }\n\n    const removeCheck = (id) => {\n        const deleteTodo = async () => {\n            const response = await fetch(`http://localhost:3001/todos/${id}`, {\n                method: \"DELETE\",\n            })\n            const data = await response.json();\n            setTodos(data);\n        };\n        deleteTodo();\n    }\n\n    const completedTodo = (id, value) => {\n        try {\n            const updatedTodo = async () => {\n                const response = await fetch(`http://localhost:3001/todos/${id}`, {\n                    method: \"PUT\",\n                    body: JSON.stringify({ completed: value }),\n                    headers: {\n                        \"content-type\": \"application/json\",\n                    }\n                });\n                const data = await response.json();\n                setTodos(data);\n            }\n            updatedTodo();\n            document.querySelector('form input[type=\"text\"]').value = \"\";\n        }\n        catch (error) {\n            console.error(error)\n        }\n    }\n\n    return (\n        <div>\n            <form>\n                <input type=\"text\" name=\"\" id=\"\" placeholder=\"Add ToDo\" />\n                <input type=\"button\" value=\"Add ToDo\" onClick={addTodo} />\n            </form>\n            <article>\n                {todos.map((elt) => {\n                    return (\n                        <div>\n                            <ToDoItem task={elt} completedTodo={completedTodo} />\n                            <button onClick={() => removeCheck(elt.id)}>delete</button>\n                        </div>\n                    )\n                })}\n            </article>\n        </div >\n    );\n}\n\nexport default ToDoList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}